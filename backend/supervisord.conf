[supervisord]
nodaemon=true
logfile=/var/log/supervisord.log
pidfile=/var/run/supervisord.pid

[program:api-gateway]
command=node /app/services/1-api-gateway/src/server.js
directory=/app/services/1-api-gateway
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3000",INVENTORY_SERVICE_URL="http://localhost:3001",ORDER_SERVICE_URL="http://localhost:3002",WAREHOUSE_SERVICE_URL="http://localhost:3003",DELIVERY_SERVICE_URL="http://localhost:3004",NOTIFICATION_SERVICE_URL="http://localhost:3005",FORECASTING_SERVICE_URL="http://localhost:8000",AGENTIC_AI_SERVICE_URL="http://localhost:8001"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:inventory-service]
command=node /app/services/2-inventory-service/dist/main.js
directory=/app/services/2-inventory-service
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3001"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:order-service]
command=node /app/services/3-order-service/dist/main.js
directory=/app/services/3-order-service
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3002",INVENTORY_SERVICE_URL="http://localhost:3001"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:warehouse-service]
command=node /app/services/4-warehouse-service/dist/main.js
directory=/app/services/4-warehouse-service
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3003",INVENTORY_SERVICE_URL="http://localhost:3001"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:delivery-service]
command=node /app/services/5-delivery-service/dist/main.js
directory=/app/services/5-delivery-service
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3004"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:notification-service]
command=node /app/services/6-notification-service/dist/main.js
directory=/app/services/6-notification-service
autostart=true
autorestart=true
environment=NODE_ENV="production",PORT="3005"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:forecasting-service]
command=python -m uvicorn main:app --host 0.0.0.0 --port 8000
directory=/app/services/7-forecasting-service
autostart=true
autorestart=true
environment=PYTHONPATH="/app/services/7-forecasting-service"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0

[program:agentic-service]
command=python -m uvicorn main:app --host 0.0.0.0 --port 8001
directory=/app/services/8-agentic-ai-service
autostart=true
autorestart=true
environment=PYTHONPATH="/app/services/8-agentic-ai-service"
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
